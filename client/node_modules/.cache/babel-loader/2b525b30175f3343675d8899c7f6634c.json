{"ast":null,"code":"import _defineProperty from\"/Users/amyhaerr/Desktop/books/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/amyhaerr/Desktop/books/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/amyhaerr/Desktop/books/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/amyhaerr/Desktop/books/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/amyhaerr/Desktop/books/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import Form from\"../components/Form\";import Results from\"../components/Results\";import API from\"../utils/API\";var Search=/*#__PURE__*/function(_React$Component){_inherits(Search,_React$Component);var _super=_createSuper(Search);function Search(){var _this;_classCallCheck(this,Search);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={search:\"\",books:[]};_this.makeBook=function(bookData){// console.log(\"bookData\", bookData);\nreturn{_id:bookData.id,title:bookData.volumeInfo.title,authors:bookData.volumeInfo.authors,description:bookData.volumeInfo.description,image:bookData.volumeInfo.imageLinks.thumbnail,link:bookData.volumeInfo.previewLink};};_this.searchBook=function(query){API.getBook(query).then(function(res){return _this.setState({books:res.data.items.map(function(book){return _this.makeBook(book);})});}).catch(function(err){return console.error(err);});// console.log(\"searchBook\", query)\n};_this.handleInputChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));// console.log (\"handleInputChange\", name, value)\n};_this.handleFormSubmit=function(event){event.preventDefault();_this.searchBook(_this.state.search);};return _this;}_createClass(Search,[{key:\"componentDidMount\",value:function componentDidMount(){this.searchBook(\"Hunger Games\");}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Form,{search:this.state.search,handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit}),/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Results\"),/*#__PURE__*/React.createElement(Results,{books:this.state.books})));}}]);return Search;}(React.Component);export default Search;","map":{"version":3,"sources":["/Users/amyhaerr/Desktop/books/client/src/pages/Search.js"],"names":["React","Form","Results","API","Search","state","search","books","makeBook","bookData","_id","id","title","volumeInfo","authors","description","image","imageLinks","thumbnail","link","previewLink","searchBook","query","getBook","then","res","setState","data","items","map","book","catch","err","console","error","handleInputChange","event","target","name","value","handleFormSubmit","preventDefault","Component"],"mappings":"qkBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,C,GAEMC,CAAAA,M,uUACFC,K,CAAQ,CACJC,MAAM,CAAE,EADJ,CAEJC,KAAK,CAAE,EAFH,C,OAURC,Q,CAAW,SAAAC,QAAQ,CAAI,CACnB;AACA,MAAO,CACHC,GAAG,CAAED,QAAQ,CAACE,EADX,CAEHC,KAAK,CAAEH,QAAQ,CAACI,UAAT,CAAoBD,KAFxB,CAGHE,OAAO,CAAEL,QAAQ,CAACI,UAAT,CAAoBC,OAH1B,CAIHC,WAAW,CAAEN,QAAQ,CAACI,UAAT,CAAoBE,WAJ9B,CAKHC,KAAK,CAAEP,QAAQ,CAACI,UAAT,CAAoBI,UAApB,CAA+BC,SALnC,CAMHC,IAAI,CAAEV,QAAQ,CAACI,UAAT,CAAoBO,WANvB,CAAP,CASH,C,OAEDC,U,CAAa,SAAAC,KAAK,CAAI,CAElBnB,GAAG,CAACoB,OAAJ,CAAYD,KAAZ,EACKE,IADL,CACU,SAAAC,GAAG,QAAI,OAAKC,QAAL,CAAc,CAAEnB,KAAK,CAAEkB,GAAG,CAACE,IAAJ,CAASC,KAAT,CAAeC,GAAf,CAAmB,SAAAC,IAAI,QAAI,OAAKtB,QAAL,CAAcsB,IAAd,CAAJ,EAAvB,CAAT,CAAd,CAAJ,EADb,EAEKC,KAFL,CAEW,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd,CAAJ,EAFd,EAGI;AACP,C,OAEDG,iB,CAAoB,SAAAC,KAAK,CAAK,mBACNA,KAAK,CAACC,MADA,CACrBC,IADqB,eACrBA,IADqB,CACfC,KADe,eACfA,KADe,CAE1B,MAAKb,QAAL,oBACKY,IADL,CACYC,KADZ,GAGA;AACH,C,OAEDC,gB,CAAmB,SAAAJ,KAAK,CAAI,CACxBA,KAAK,CAACK,cAAN,GACA,MAAKpB,UAAL,CAAgB,MAAKhB,KAAL,CAAWC,MAA3B,EACH,C,+FApCmB,CAChB,KAAKe,UAAL,CAAgB,cAAhB,EACH,C,uCAoCQ,CACL,mBACI,4CACI,oBAAC,IAAD,EACI,MAAM,CAAE,KAAKhB,KAAL,CAAWC,MADvB,CAEI,iBAAiB,CAAE,KAAK6B,iBAF5B,CAGI,gBAAgB,CAAE,KAAKK,gBAH3B,EADJ,cAMI,2BAAK,SAAS,CAAC,WAAf,eACI,wCADJ,cAEI,oBAAC,OAAD,EAAS,KAAK,CAAE,KAAKnC,KAAL,CAAWE,KAA3B,EAFJ,CANJ,CADJ,CAaH,C,oBA3DgBP,KAAK,CAAC0C,S,EA8D3B,cAAetC,CAAAA,MAAf","sourcesContent":["import React from \"react\";\nimport Form from \"../components/Form\";\nimport Results from \"../components/Results\";\nimport API from \"../utils/API\";\n\nclass Search extends React.Component {\n    state = {\n        search: \"\",\n        books: [],\n        \n    };\n\n    componentDidMount() {\n        this.searchBook(\"Hunger Games\");\n    }\n\n    makeBook = bookData => {\n        // console.log(\"bookData\", bookData);\n        return {\n            _id: bookData.id,\n            title: bookData.volumeInfo.title,\n            authors: bookData.volumeInfo.authors,\n            description: bookData.volumeInfo.description,\n            image: bookData.volumeInfo.imageLinks.thumbnail,\n            link: bookData.volumeInfo.previewLink  \n        }\n        \n    }\n\n    searchBook = query => {\n       \n        API.getBook(query)\n            .then(res => this.setState({ books: res.data.items.map(book => this.makeBook(book)) }))\n            .catch(err => console.error(err));\n            // console.log(\"searchBook\", query)\n    };\n\n    handleInputChange = event =>  {\n      const {name, value} = event.target\n        this.setState({\n            [name]: value\n        });\n        // console.log (\"handleInputChange\", name, value)\n    };\n\n    handleFormSubmit = event => {\n        event.preventDefault();\n        this.searchBook(this.state.search);\n    };\n\n    render() {\n        return (\n            <div>\n                <Form\n                    search={this.state.search}\n                    handleInputChange={this.handleInputChange}\n                    handleFormSubmit={this.handleFormSubmit}\n                />\n                <div className=\"container\">\n                    <h2>Results</h2>\n                    <Results books={this.state.books} />\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}