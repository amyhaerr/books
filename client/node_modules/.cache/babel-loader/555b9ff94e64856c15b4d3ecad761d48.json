{"ast":null,"code":"var _jsxFileName = \"/Users/amyhaerr/Desktop/books/client/src/components/Results/index.js\";\nimport React, { Component } from \"react\";\nimport API from \"../../utils/API\";\n\nclass Results extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      savedBooks: []\n    };\n\n    this.handleSave = book => {\n      cons0;\n\n      if (this.state.savedBooks.map(book => book._id).includes(book._id)) {\n        API.deleteBook(book._id).then(deletedBook => this.setState({\n          savedBooks: this.state.savedBooks.filter(book => book._id !== deletedBook._id)\n        })).catch(err => console.err(err));\n      } else {\n        API.saveBook(book).then(savedBook => this.setState({\n          savedBooks: this.state.savedBooks.concat([savedBook])\n        })).catch(err => console.err(err));\n      }\n    };\n  }\n\n  componentDidMount() {\n    API.savedBooks().then(savedBooks => this.setState({\n      savedBooks: savedBooks\n    })).catch(err => console.log(err));\n  }\n\n  render() {\n    if (!this.props.books) return null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }\n    }, !this.props.books.length ? /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }\n    }, \"No Results\") : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }\n    }, this.props.books.map(result => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card mb-3\",\n      key: result._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: result.title,\n      className: \"img-fluid\",\n      src: result.image,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 23\n      }\n    }, result.title, \" by \", result.authors), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"card-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 23\n      }\n    }, result.description), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: result.link,\n      className: \"btn\",\n      target: \"_blank\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 25\n      }\n    }, \"View\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.handleSave(result),\n      className: \"btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }\n    }, this.state.savedBooks.map(book => book._id).includes(result._id) ? \"Unsave\" : \"Save\")))))))));\n  }\n\n}\n\nexport default Results;","map":{"version":3,"sources":["/Users/amyhaerr/Desktop/books/client/src/components/Results/index.js"],"names":["React","Component","API","Results","state","savedBooks","handleSave","book","cons0","map","_id","includes","deleteBook","then","deletedBook","setState","filter","catch","err","console","saveBook","savedBook","concat","componentDidMount","log","render","props","books","length","result","title","image","authors","description","link"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport API from \"../../utils/API\";\n\nclass Results extends Component {\n  state = {\n    savedBooks: [],\n  };\n  componentDidMount() {\n    API.savedBooks()\n      .then((savedBooks) => this.setState({ savedBooks: savedBooks }))\n      .catch((err) => console.log(err));\n  }\n\n  handleSave = (book) => {\n    cons0\n    if (this.state.savedBooks.map((book) => book._id).includes(book._id)) {\n      API.deleteBook(book._id)\n        .then((deletedBook) =>\n          this.setState({\n            savedBooks: this.state.savedBooks.filter(\n              (book) => book._id !== deletedBook._id\n            ),\n          })\n        )\n        .catch((err) => console.err(err));\n    } else {\n      API.saveBook(book)\n        .then((savedBook) =>\n          this.setState({\n            savedBooks: this.state.savedBooks.concat([savedBook]),\n          })\n        )\n        .catch((err) => console.err(err));\n    }\n  };\n\n  render() {\n    if (!this.props.books)\n    return(null)\n    return (\n      <div>\n        {!this.props.books.length ? (\n          <h1 className=\"text-center\">No Results</h1>\n        ) : (\n          <div>\n            {this.props.books.map((result) => (\n              <div className=\"card mb-3\" key={result._id}>\n                <div className=\"row\">\n                  <div className=\"col-md-2\">\n                    <img\n                      alt={result.title}\n                      className=\"img-fluid\"\n                      src={result.image}\n                    />\n                  </div>\n                  <div className=\"col-md-10\">\n                    <div className=\"card-body\">\n                      <h5 className=\"card-title\">\n                        {result.title} by {result.authors}\n                      </h5>\n                      <p className=\"card-text\">{result.description}</p>\n                      <div>\n                        <a href={result.link} className=\"btn\" target=\"_blank\">\n                          View\n                        </a>\n                        <button\n                          onClick={() => this.handleSave(result)}\n                          className=\"btn\"\n                        >\n                          {this.state.savedBooks\n                            .map((book) => book._id)\n                            .includes(result._id)\n                            ? \"Unsave\"\n                            : \"Save\"}\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Results;"]},"metadata":{},"sourceType":"module"}